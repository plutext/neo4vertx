
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2014-11-19
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>neo4vertx - neo4vertx Java Examples</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta name="author" content="Johannes SchÃ¼th" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/spacelab/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/default.min.css" rel="stylesheet" />

		<link href="./css/lightbox.css" rel="stylesheet" />

		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="shortcut icon" href="favicon.gif" type="image/x-icon"/>
	</head>

	<body class="page-java_examples project-neo4vertx-doc" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="../">neo4vertx</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Intro <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="Home">Home</a></li>
									<li ><a href="downloads.html" title="Downloads">Downloads</a></li>
									<li ><a href="maven.html" title="Maven">Maven</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="configuration.html" title="Configuration">Configuration</a></li>
									<li ><a href="javadoc/index.html" title="JavaDoc">JavaDoc</a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="active"><a href="" title="Java examples">Java examples</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<div id="bannerLeft"><img src="neo4vertx_small.png" alt='"''"' /></div>
					<p class="lead">Bridging the gap between Vert.x and Neo4j</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="section"> 
 <div class="page-header">
  <h2 id="Intro">Intro</h2>
 </div> 
 <p>The example classes can be found in the <a class="externalLink" href="https://github.com/Jotschi/neo4vertx/tree/structure-update/examples/java/src/main/java/org/openpcf/neo4vertx/examples">neo4vertx-java-examples</a> module.</p> 
 <p>Each example class contains a main method. Which means each verticle can directly be started. Once started a http server will listen to incoming requests. </p> 
 <p>The http server will store data in the neo4j database and count the stored nodes for each request. </p> 
 <style type="text/css">
   @import url('attached-includes/css/shCoreDefault.css');
</style> 
 <div id="highlighter_548151" class="syntaxhighlighter  java"> 
  <table border="0" cellpadding="0" cellspacing="0"> 
   <tbody> 
    <tr> 
     <td class="gutter"> 
      <div class="line number102 index0 alt1">
        102 
      </div> 
      <div class="line number103 index1 alt2">
        103 
      </div> 
      <div class="line number104 index2 alt1">
        104 
      </div> 
      <div class="line number105 index3 alt2">
        105 
      </div> 
      <div class="line number106 index4 alt1">
        106 
      </div> 
      <div class="line number107 index5 alt2">
        107 
      </div> 
      <div class="line number108 index6 alt1">
        108 
      </div> 
      <div class="line number109 index7 alt2">
        109 
      </div> 
      <div class="line number110 index8 alt1">
        110 
      </div> 
      <div class="line number111 index9 alt2">
        111 
      </div> 
      <div class="line number112 index10 alt1">
        112 
      </div> 
      <div class="line number113 index11 alt2">
        113 
      </div> 
      <div class="line number114 index12 alt1">
        114 
      </div> 
      <div class="line number115 index13 alt2">
        115 
      </div> 
      <div class="line number116 index14 alt1">
        116 
      </div> 
      <div class="line number117 index15 alt2">
        117 
      </div> 
      <div class="line number118 index16 alt1">
        118 
      </div> 
      <div class="line number119 index17 alt2">
        119 
      </div> 
      <div class="line number120 index18 alt1">
        120 
      </div> 
      <div class="line number121 index19 alt2">
        121 
      </div></td> 
     <td class="code"> 
      <div class="container"> 
       <div class="line number102 index0 alt1"> 
        <code class="java keyword">protected</code> 
        <code class="java keyword">void</code> 
        <code class="java plain">startHttpServer(</code> 
        <code class="java keyword">int</code> 
        <code class="java plain">port, Handler&lt;AsyncResult&lt;Message&lt;JsonObject&gt;&gt;&gt; storeHandler,</code> 
       </div> 
       <div class="line number103 index1 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">Handler&lt;AsyncResult&lt;Message&lt;JsonObject&gt;&gt;&gt; countHandler, Runnable requestHandler) {</code> 
       </div> 
       <div class="line number104 index2 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">HttpServerOptions options = </code> 
        <code class="java keyword">new</code> 
        <code class="java plain">HttpServerOptions();</code> 
       </div> 
       <div class="line number105 index3 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">options.setPort(port);</code> 
       </div> 
       <div class="line number106 index4 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">vertx.createHttpServer(options).requestHandler(request -&gt; {</code> 
       </div> 
       <div class="line number107 index5 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">if</code> 
        <code class="java plain">(storeHandler != </code> 
        <code class="java keyword">null</code> 
        <code class="java plain">) {</code> 
       </div> 
       <div class="line number108 index6 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">storeNode(storeHandler);</code> 
       </div> 
       <div class="line number109 index7 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}</code> 
       </div> 
       <div class="line number110 index8 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">if</code> 
        <code class="java plain">(countHandler != </code> 
        <code class="java keyword">null</code> 
        <code class="java plain">) {</code> 
       </div> 
       <div class="line number111 index9 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">countData(countHandler);</code> 
       </div> 
       <div class="line number112 index10 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}</code> 
       </div> 
       <div class="line number113 index11 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">if</code> 
        <code class="java plain">(requestHandler != </code> 
        <code class="java keyword">null</code> 
        <code class="java plain">) {</code> 
       </div> 
       <div class="line number114 index12 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">new</code> 
        <code class="java plain">Thread(requestHandler).start();</code> 
       </div> 
       <div class="line number115 index13 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}</code> 
       </div> 
       <div class="line number116 index14 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">request.response().headers().set(</code> 
        <code class="java string">&quot;Content-Type&quot;</code> 
        <code class="java plain">, </code> 
        <code class="java string">&quot;text/plain&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number117 index15 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">request.response().end(</code> 
        <code class="java string">&quot;Request handled&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number118 index16 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}).listen();</code> 
       </div> 
       <div class="line number119 index17 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Started &quot;</code> 
        <code class="java plain">+ getClass().getName());</code> 
       </div> 
       <div class="line number120 index18 alt1">
         &nbsp; 
       </div> 
       <div class="line number121 index19 alt2"> 
        <code class="java plain">}</code> 
       </div> 
      </div></td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <p>The main means to communicate with the neo4j is the event bus. The <tt>storeNode()</tt> method will send a simple create cypher statement to the event bus. Neo4Vertx will handle this message and execute the query. There are also more complex means possible to interface with the neo4j which we will cover in the advanded example. </p> 
 <div id="highlighter_913712" class="syntaxhighlighter  java"> 
  <table border="0" cellpadding="0" cellspacing="0"> 
   <tbody> 
    <tr> 
     <td class="gutter"> 
      <div class="line number128 index0 alt1">
        128 
      </div> 
      <div class="line number129 index1 alt2">
        129 
      </div> 
      <div class="line number130 index2 alt1">
        130 
      </div> 
      <div class="line number131 index3 alt2">
        131 
      </div> 
      <div class="line number132 index4 alt1">
        132 
      </div> 
      <div class="line number133 index5 alt2">
        133 
      </div> 
      <div class="line number134 index6 alt1">
        134 
      </div></td> 
     <td class="code"> 
      <div class="container"> 
       <div class="line number128 index0 alt1"> 
        <code class="java keyword">protected</code> 
        <code class="java keyword">void</code> 
        <code class="java plain">storeNode(Handler&lt;AsyncResult&lt;Message&lt;JsonObject&gt;&gt;&gt; replyHandler) {</code> 
       </div> 
       <div class="line number129 index1 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">JsonObject obj = </code> 
        <code class="java keyword">new</code> 
        <code class="java plain">JsonObject();</code> 
       </div> 
       <div class="line number130 index2 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">String query = </code> 
        <code class="java string">&quot;CREATE (testentry:ingredient&quot;</code> 
        <code class="java plain">+ System.currentTimeMillis() + </code> 
        <code class="java string">&quot; {time : '&quot;</code> 
        <code class="java plain">+ System.currentTimeMillis() + </code> 
        <code class="java string">&quot;'})&quot;</code> 
        <code class="java plain">;</code> 
       </div> 
       <div class="line number131 index3 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">obj.put(</code> 
        <code class="java string">&quot;query&quot;</code> 
        <code class="java plain">, query);</code> 
       </div> 
       <div class="line number132 index4 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Sending query: &quot;</code> 
        <code class="java plain">+ query);</code> 
       </div> 
       <div class="line number133 index5 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">vertx.eventBus().send(DEFAULT_ADDRESS, obj, replyHandler);</code> 
       </div> 
       <div class="line number134 index6 alt1"> 
        <code class="java plain">}</code> 
       </div> 
      </div></td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <p>The <tt>countData()</tt> method will query the neo4j for the amount of nodes.</p> 
 <div id="highlighter_984288" class="syntaxhighlighter  java"> 
  <table border="0" cellpadding="0" cellspacing="0"> 
   <tbody> 
    <tr> 
     <td class="gutter"> 
      <div class="line number144 index0 alt1">
        144 
      </div> 
      <div class="line number145 index1 alt2">
        145 
      </div> 
      <div class="line number146 index2 alt1">
        146 
      </div> 
      <div class="line number147 index3 alt2">
        147 
      </div> 
      <div class="line number148 index4 alt1">
        148 
      </div> 
      <div class="line number149 index5 alt2">
        149 
      </div> 
      <div class="line number150 index6 alt1">
        150 
      </div> 
      <div class="line number151 index7 alt2">
        151 
      </div> 
      <div class="line number152 index8 alt1">
        152 
      </div> 
      <div class="line number153 index9 alt2">
        153 
      </div></td> 
     <td class="code"> 
      <div class="container"> 
       <div class="line number144 index0 alt1"> 
        <code class="java keyword">protected</code> 
        <code class="java keyword">void</code> 
        <code class="java plain">countData(Handler&lt;AsyncResult&lt;Message&lt;JsonObject&gt;&gt;&gt; countHandler) {</code> 
       </div> 
       <div class="line number145 index1 alt2">
         &nbsp; 
       </div> 
       <div class="line number146 index2 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">JsonObject obj = </code> 
        <code class="java keyword">new</code> 
        <code class="java plain">JsonObject();</code> 
       </div> 
       <div class="line number147 index3 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">String query = </code> 
        <code class="java string">&quot;MATCH (n) RETURN count(*);&quot;</code> 
        <code class="java plain">;</code> 
       </div> 
       <div class="line number148 index4 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">obj.put(</code> 
        <code class="java string">&quot;query&quot;</code> 
        <code class="java plain">, query);</code> 
       </div> 
       <div class="line number149 index5 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Sending query: &quot;</code> 
        <code class="java plain">+ query);</code> 
       </div> 
       <div class="line number150 index6 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">EventBus eb = vertx.eventBus();</code> 
       </div> 
       <div class="line number151 index7 alt2">
         &nbsp; 
       </div> 
       <div class="line number152 index8 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">eb.send(DEFAULT_ADDRESS, obj, countHandler);</code> 
       </div> 
       <div class="line number153 index9 alt2"> 
        <code class="java plain">}</code> 
       </div> 
      </div></td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <p>EventHandler are used to handle the replies from the neo4j database.</p> 
 <hr /> 
</div> 
<div class="section"> 
 <h2 id="Simple_Example">Simple Example</h2> 
 <p>The <tt>SimpleDemoVerticle</tt> examples demonstrates how to use neo4vertx in conjunction with java in its default mode. By default neo4vertx will startup an embedded neo4j server.</p> 
 <div id="highlighter_362488" class="syntaxhighlighter  java"> 
  <table border="0" cellpadding="0" cellspacing="0"> 
   <tbody> 
    <tr> 
     <td class="gutter"> 
      <div class="line number25 index0 alt2">
        25 
      </div> 
      <div class="line number26 index1 alt1">
        26 
      </div> 
      <div class="line number27 index2 alt2">
        27 
      </div> 
      <div class="line number28 index3 alt1">
        28 
      </div> 
      <div class="line number29 index4 alt2">
        29 
      </div> 
      <div class="line number30 index5 alt1">
        30 
      </div> 
      <div class="line number31 index6 alt2">
        31 
      </div> 
      <div class="line number32 index7 alt1">
        32 
      </div> 
      <div class="line number33 index8 alt2">
        33 
      </div> 
      <div class="line number34 index9 alt1">
        34 
      </div> 
      <div class="line number35 index10 alt2">
        35 
      </div> 
      <div class="line number36 index11 alt1">
        36 
      </div> 
      <div class="line number37 index12 alt2">
        37 
      </div> 
      <div class="line number38 index13 alt1">
        38 
      </div> 
      <div class="line number39 index14 alt2">
        39 
      </div> 
      <div class="line number40 index15 alt1">
        40 
      </div> 
      <div class="line number41 index16 alt2">
        41 
      </div> 
      <div class="line number42 index17 alt1">
        42 
      </div> 
      <div class="line number43 index18 alt2">
        43 
      </div> 
      <div class="line number44 index19 alt1">
        44 
      </div> 
      <div class="line number45 index20 alt2">
        45 
      </div> 
      <div class="line number46 index21 alt1">
        46 
      </div> 
      <div class="line number47 index22 alt2">
        47 
      </div></td> 
     <td class="code"> 
      <div class="container"> 
       <div class="line number25 index0 alt2"> 
        <code class="java color1">@Override</code> 
       </div> 
       <div class="line number26 index1 alt1"> 
        <code class="java keyword">public</code> 
        <code class="java keyword">void</code> 
        <code class="java plain">start() </code> 
        <code class="java keyword">throws</code> 
        <code class="java plain">Exception {</code> 
       </div> 
       <div class="line number27 index2 alt2">
         &nbsp; 
       </div> 
       <div class="line number28 index3 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Starting &quot;</code> 
        <code class="java plain">+ getClass().getName());</code> 
       </div> 
       <div class="line number29 index4 alt2">
         &nbsp; 
       </div> 
       <div class="line number30 index5 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java comments">// Start the neo4vertx verticle that will provide neo4j support</code> 
       </div> 
       <div class="line number31 index6 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">startNeo4Vertx(</code> 
        <code class="java string">&quot;neo4vertx_default.json&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number32 index7 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">startHttpServer(HTTP_PORT, insertReply -&gt; {</code> 
       </div> 
       <div class="line number33 index8 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">if</code> 
        <code class="java plain">(insertReply.failed()) {</code> 
       </div> 
       <div class="line number34 index9 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.error(</code> 
        <code class="java string">&quot;Storing failed&quot;</code> 
        <code class="java plain">, insertReply.cause());</code> 
       </div> 
       <div class="line number35 index10 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">} </code> 
        <code class="java keyword">else</code> 
        <code class="java plain">{</code> 
       </div> 
       <div class="line number36 index11 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Inserted node&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number37 index12 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Reply store: &quot;</code> 
        <code class="java plain">+ insertReply.result().body());</code> 
       </div> 
       <div class="line number38 index13 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}</code> 
       </div> 
       <div class="line number39 index14 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}, countReply -&gt; {</code> 
       </div> 
       <div class="line number40 index15 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">if</code> 
        <code class="java plain">(countReply.failed()) {</code> 
       </div> 
       <div class="line number41 index16 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.error(</code> 
        <code class="java string">&quot;Counting failed&quot;</code> 
        <code class="java plain">, countReply.cause());</code> 
       </div> 
       <div class="line number42 index17 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">} </code> 
        <code class="java keyword">else</code> 
        <code class="java plain">{</code> 
       </div> 
       <div class="line number43 index18 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Counted nodes&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number44 index19 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Reply count:&quot;</code> 
        <code class="java plain">+ countReply.result().body());</code> 
       </div> 
       <div class="line number45 index20 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}</code> 
       </div> 
       <div class="line number46 index21 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">});</code> 
       </div> 
       <div class="line number47 index22 alt2"> 
        <code class="java plain">}</code> 
       </div> 
      </div></td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Cluster_Example">Cluster Example</h2> 
 <p>The <tt>ClusterDemoMasterVerticle</tt> and <tt>ClusterDemoSlaveVerticle</tt> examples demonstrate how the neo4j master slave mode can be setup in order to run neo4j in its high availability mode. Startup both verticles and invoke http requests to each of the verticle http servers. Nodes that are created though the slave will also be accessible by the master verticle.</p> 
</div> 
<div class="section"> 
 <h2 id="RemoteGUI_Example">Remote/GUI Example</h2> 
 <p>The <tt>GUIDemoVerticle</tt> and <tt>RemoteDemoVerticle</tt> can be used together to demonstrate the remote api capability. It is possible to use neo4vertx together with an external neo4j database. In this case a <tt>restUrl</tt> parameter has to be specified. Neo4Vertx will not startup any neo4j embedded database when run in remote mode. It is also not possible to use the advanced features when in this mode. The gui mode on the other hand will startup an embedded neo4j database and in addition a jetty server which provides a neo4j rest api on port 7474. </p> 
 <p>It is best to startup the GUIDemoVerticle first since it will startup a neo4j with a rest api backend on port 7474. The remote example verticle can be started afterwards. The remote example will than execute queries using a simple embedded rest client.</p> 
</div> 
<div class="section"> 
 <h2 id="AdvancedDemoVerticle">AdvancedDemoVerticle</h2> 
 <p>The <tt>AdvancedDemoVerticle</tt> example shows how to access the neo4j graph database directly though java without using the event bus. It is possible to get the neo4j graph database service by calling <tt>Neo4jGraphVerticle.getDatabase()</tt>.</p> 
 <p>The runnable contains a simple request handler that will add a dummy node to the neo4j graph. </p> 
 <div id="highlighter_919626" class="syntaxhighlighter  java"> 
  <table border="0" cellpadding="0" cellspacing="0"> 
   <tbody> 
    <tr> 
     <td class="gutter"> 
      <div class="line number32 index0 alt1">
        32 
      </div> 
      <div class="line number33 index1 alt2">
        33 
      </div> 
      <div class="line number34 index2 alt1">
        34 
      </div> 
      <div class="line number35 index3 alt2">
        35 
      </div> 
      <div class="line number36 index4 alt1">
        36 
      </div> 
      <div class="line number37 index5 alt2">
        37 
      </div> 
      <div class="line number38 index6 alt1">
        38 
      </div> 
      <div class="line number39 index7 alt2">
        39 
      </div> 
      <div class="line number40 index8 alt1">
        40 
      </div> 
      <div class="line number41 index9 alt2">
        41 
      </div> 
      <div class="line number42 index10 alt1">
        42 
      </div> 
      <div class="line number43 index11 alt2">
        43 
      </div> 
      <div class="line number44 index12 alt1">
        44 
      </div> 
      <div class="line number45 index13 alt2">
        45 
      </div> 
      <div class="line number46 index14 alt1">
        46 
      </div> 
      <div class="line number47 index15 alt2">
        47 
      </div> 
      <div class="line number48 index16 alt1">
        48 
      </div> 
      <div class="line number49 index17 alt2">
        49 
      </div> 
      <div class="line number50 index18 alt1">
        50 
      </div> 
      <div class="line number51 index19 alt2">
        51 
      </div> 
      <div class="line number52 index20 alt1">
        52 
      </div> 
      <div class="line number53 index21 alt2">
        53 
      </div> 
      <div class="line number54 index22 alt1">
        54 
      </div> 
      <div class="line number55 index23 alt2">
        55 
      </div> 
      <div class="line number56 index24 alt1">
        56 
      </div> 
      <div class="line number57 index25 alt2">
        57 
      </div> 
      <div class="line number58 index26 alt1">
        58 
      </div> 
      <div class="line number59 index27 alt2">
        59 
      </div> 
      <div class="line number60 index28 alt1">
        60 
      </div> 
      <div class="line number61 index29 alt2">
        61 
      </div> 
      <div class="line number62 index30 alt1">
        62 
      </div> 
      <div class="line number63 index31 alt2">
        63 
      </div> 
      <div class="line number64 index32 alt1">
        64 
      </div> 
      <div class="line number65 index33 alt2">
        65 
      </div> 
      <div class="line number66 index34 alt1">
        66 
      </div> 
      <div class="line number67 index35 alt2">
        67 
      </div> 
      <div class="line number68 index36 alt1">
        68 
      </div></td> 
     <td class="code"> 
      <div class="container"> 
       <div class="line number32 index0 alt1"> 
        <code class="java color1">@Override</code> 
       </div> 
       <div class="line number33 index1 alt2"> 
        <code class="java keyword">public</code> 
        <code class="java keyword">void</code> 
        <code class="java plain">start() </code> 
        <code class="java keyword">throws</code> 
        <code class="java plain">Exception {</code> 
       </div> 
       <div class="line number34 index2 alt1">
         &nbsp; 
       </div> 
       <div class="line number35 index3 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Starting &quot;</code> 
        <code class="java plain">+ getClass().getName());</code> 
       </div> 
       <div class="line number36 index4 alt1">
         &nbsp; 
       </div> 
       <div class="line number37 index5 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java comments">// Start the neo4vertx verticle that will provide neo4j support</code> 
       </div> 
       <div class="line number38 index6 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">startNeo4Vertx(</code> 
        <code class="java string">&quot;neo4vertx_default.json&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number39 index7 alt2">
         &nbsp; 
       </div> 
       <div class="line number40 index8 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java comments">// Request handler for http requests</code> 
       </div> 
       <div class="line number41 index9 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">Runnable requestHandler = () -&gt; {</code> 
       </div> 
       <div class="line number42 index10 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">try</code> 
        <code class="java plain">{</code> 
       </div> 
       <div class="line number43 index11 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Handling request.&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number44 index12 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">GraphDatabaseService db = Neo4jGraphVerticle.getDatabase();</code> 
       </div> 
       <div class="line number45 index13 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">try</code> 
        <code class="java plain">(Transaction tx = db.beginTx()) {</code> 
       </div> 
       <div class="line number46 index14 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">Node node = db.createNode(DynamicLabel.label(</code> 
        <code class="java string">&quot;Dummy Node&quot;</code> 
        <code class="java plain">));</code> 
       </div> 
       <div class="line number47 index15 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">node.setProperty(</code> 
        <code class="java string">&quot;message&quot;</code> 
        <code class="java plain">, </code> 
        <code class="java string">&quot;Hello, &quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number48 index16 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Storing node&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number49 index17 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">tx.success();</code> 
       </div> 
       <div class="line number50 index18 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}</code> 
       </div> 
       <div class="line number51 index19 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">} </code> 
        <code class="java keyword">catch</code> 
        <code class="java plain">(Exception e) {</code> 
       </div> 
       <div class="line number52 index20 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">throw</code> 
        <code class="java keyword">new</code> 
        <code class="java plain">RuntimeException(</code> 
        <code class="java string">&quot;Could not insert node.&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number53 index21 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}</code> 
       </div> 
       <div class="line number54 index22 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">};</code> 
       </div> 
       <div class="line number55 index23 alt2">
         &nbsp; 
       </div> 
       <div class="line number56 index24 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java comments">// Start the http server and register the reply handler.</code> 
       </div> 
       <div class="line number57 index25 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java comments">// In this case no reply handler is specified for the store event.</code> 
       </div> 
       <div class="line number58 index26 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java comments">// This will effectively disable the store action.</code> 
       </div> 
       <div class="line number59 index27 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">startHttpServer(HTTP_PORT, </code> 
        <code class="java keyword">null</code> 
        <code class="java plain">, countReply -&gt; {</code> 
       </div> 
       <div class="line number60 index28 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java keyword">if</code> 
        <code class="java plain">(countReply.failed()) {</code> 
       </div> 
       <div class="line number61 index29 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.error(</code> 
        <code class="java string">&quot;Counting failed&quot;</code> 
        <code class="java plain">, countReply.cause());</code> 
       </div> 
       <div class="line number62 index30 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">} </code> 
        <code class="java keyword">else</code> 
        <code class="java plain">{</code> 
       </div> 
       <div class="line number63 index31 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Counted nodes&quot;</code> 
        <code class="java plain">);</code> 
       </div> 
       <div class="line number64 index32 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">logger.info(</code> 
        <code class="java string">&quot;Reply count:&quot;</code> 
        <code class="java plain">+ countReply.result().body());</code> 
       </div> 
       <div class="line number65 index33 alt2"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}</code> 
       </div> 
       <div class="line number66 index34 alt1"> 
        <code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code> 
        <code class="java plain">}, requestHandler);</code> 
       </div> 
       <div class="line number67 index35 alt2">
         &nbsp; 
       </div> 
       <div class="line number68 index36 alt1"> 
        <code class="java plain">}</code> 
       </div> 
      </div></td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li><a href="#Intro" title="Intro">Intro</a>
		<li><a href="#Simple_Example" title="Simple Example">Simple Example</a>
		<li><a href="#Cluster_Example" title="Cluster Example">Cluster Example</a>
		<li><a href="#RemoteGUI_Example" title="Remote/GUI Example">Remote/GUI Example</a>
		<li><a href="#AdvancedDemoVerticle" title="AdvancedDemoVerticle">AdvancedDemoVerticle</a>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Intro</li>
						<li >
							<a href="index.html" title="Home">Home</a>
						</li>
						<li >
							<a href="downloads.html" title="Downloads">Downloads</a>
						</li>
						<li >
							<a href="maven.html" title="Maven">Maven</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Project Info</li>
						<li >
							<a href="changelog.html" title="Changelog">Changelog</a>
						</li>
						<li >
							<a href="contributing.html" title="Contributing">Contributing</a>
						</li>
						<li >
							<a href="https://github.com/Jotschi/neo4vertx/tree/structure-update" title="Github" class="externalLink">Github</a>
						</li>
						<li >
							<a href="todos.html" title="Todos">Todos</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Documentation</li>
						<li >
							<a href="configuration.html" title="Configuration">Configuration</a>
						</li>
						<li >
							<a href="javadoc/index.html" title="JavaDoc">JavaDoc</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Examples</li>
						<li class="active">
							<a href="#" title="Java examples">Java examples</a>
						</li>
					</ul>
				</div>
				<div class="span4 bottom-nav">
					<ul class="nav nav-list">
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2014 <a href="https://www.openpcf.org/">Open Provisioning and Control Framework</a>. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>

	</body>
</html>